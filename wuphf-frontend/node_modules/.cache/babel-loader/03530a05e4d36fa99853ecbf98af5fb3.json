{"ast":null,"code":"import _objectSpread from\"/Users/BrandenColen/Git/wuphf/wuphf-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/BrandenColen/Git/wuphf/wuphf-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/BrandenColen/Git/wuphf/wuphf-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/BrandenColen/Git/wuphf/wuphf-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/BrandenColen/Git/wuphf/wuphf-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/BrandenColen/Git/wuphf/wuphf-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import axios from'axios';import'./WuphfForm.css';import wuphfSentAudioPath from'../../resources/audio/wuphf_wuphfalert.wav';var wuphfSentAudio=new Audio(wuphfSentAudioPath);var WuphfForm=/*#__PURE__*/function(_React$Component){_inherits(WuphfForm,_React$Component);function WuphfForm(props){var _this;_classCallCheck(this,WuphfForm);_this=_possibleConstructorReturn(this,_getPrototypeOf(WuphfForm).call(this,props));var formFields={};_this.props.formOptions.forEach(function(option){formFields[option.key]='';});_this.state={formFields:formFields,errorMsg:'',loading:false};return _this;}_createClass(WuphfForm,[{key:\"onFormSubmit\",value:function onFormSubmit(e){var _this2=this;e.preventDefault();this.setState({errorMsg:'',loading:true});var formData=new FormData(this.state.formFields);console.log(formData);axios.post('/api/wuphf',formData).then(function(response){if(response.data=='OK'){wuphfSentAudio.play();}}).catch(function(error){_this2.setState({errorMsg:error.response.data,loading:false});});}},{key:\"handleChange\",value:function handleChange(e){var formFields=_objectSpread({},this.state.formFields);formFields[e.target.name]=e.target.value;this.setState({formFields:formFields});}},{key:\"renderFormOptions\",value:function renderFormOptions(){var _this3=this;var formOptions=this.props.formOptions;var formUI=formOptions.map(function(option,i){return React.createElement(\"div\",{key:i,className:\"wuphf-form-input-div\"},React.createElement(\"label\",{className:\"wuphf-form-label\",htmlFor:option.key},option.labelText),option.inputType==='textarea'?React.createElement(\"textarea\",{className:\"wuphf-form-textarea\",id:option.key,name:option.key,placeholder:option.placeholder,onChange:_this3.handleChange.bind(_this3),value:_this3.state.formFields[option.key]}):React.createElement(\"input\",{className:\"wuphf-form-input\",type:option.inputType,id:option.key,name:option.key,placeholder:option.placeholder,onChange:_this3.handleChange.bind(_this3),value:_this3.state.formFields[option.key]}));});return formUI;}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"wuphf-form\"},React.createElement(\"form\",{onSubmit:this.onFormSubmit.bind(this)},this.renderFormOptions(),React.createElement(\"button\",{className:\"wuphf-submit-button\"},\"Send Wuphf!\")),React.createElement(\"div\",null,this.state.errorMsg));}}]);return WuphfForm;}(React.Component);export{WuphfForm as default};","map":{"version":3,"sources":["/Users/BrandenColen/Git/wuphf/wuphf-frontend/src/components/WuphfForm/WuphfForm.js"],"names":["React","axios","wuphfSentAudioPath","wuphfSentAudio","Audio","WuphfForm","props","formFields","formOptions","forEach","option","key","state","errorMsg","loading","e","preventDefault","setState","formData","FormData","console","log","post","then","response","data","play","catch","error","target","name","value","formUI","map","i","labelText","inputType","placeholder","handleChange","bind","onFormSubmit","renderFormOptions","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport './WuphfForm.css';\n\nimport wuphfSentAudioPath from '../../resources/audio/wuphf_wuphfalert.wav';\n\nconst wuphfSentAudio = new Audio(wuphfSentAudioPath);\n\nexport default class WuphfForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    var formFields = {};\n    this.props.formOptions.forEach(option => {\n      formFields[option.key] = '';\n    });\n\n    this.state = {\n      formFields: formFields,\n      errorMsg: '',\n      loading: false\n    };\n  }\n\n  onFormSubmit(e) {\n    e.preventDefault();\n\n    this.setState({\n      errorMsg: '',\n      loading: true\n    });\n\n    var formData = new FormData(this.state.formFields);\n    console.log(formData);\n\n    axios\n      .post('/api/wuphf', formData)\n      .then(response => {\n        if (response.data == 'OK') {\n          wuphfSentAudio.play();\n        }\n      })\n      .catch(error => {\n        this.setState({\n          errorMsg: error.response.data,\n          loading: false\n        });\n      });\n  }\n\n  handleChange(e) {\n    let formFields = { ...this.state.formFields };\n    formFields[e.target.name] = e.target.value;\n\n    this.setState({\n      formFields\n    });\n  }\n\n  renderFormOptions() {\n    const { formOptions } = this.props;\n\n    let formUI = formOptions.map((option, i) => (\n      <div key={i} className='wuphf-form-input-div'>\n        <label className='wuphf-form-label' htmlFor={option.key}>\n          {option.labelText}\n        </label>\n        {option.inputType === 'textarea' ? (\n          <textarea\n            className='wuphf-form-textarea'\n            id={option.key}\n            name={option.key}\n            placeholder={option.placeholder}\n            onChange={this.handleChange.bind(this)}\n            value={this.state.formFields[option.key]}\n          />\n        ) : (\n          <input\n            className='wuphf-form-input'\n            type={option.inputType}\n            id={option.key}\n            name={option.key}\n            placeholder={option.placeholder}\n            onChange={this.handleChange.bind(this)}\n            value={this.state.formFields[option.key]}\n          />\n        )}\n      </div>\n    ));\n    return formUI;\n  }\n\n  render() {\n    return (\n      <div className='wuphf-form'>\n        <form onSubmit={this.onFormSubmit.bind(this)}>\n          {this.renderFormOptions()}\n          <button className='wuphf-submit-button'>Send Wuphf!</button>\n        </form>\n        <div>{this.state.errorMsg}</div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}